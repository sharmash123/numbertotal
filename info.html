<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
   
    <title>Number Tables & Families</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* CSS specific to this page */
        .family-card {
            background-color: #f3f4f6;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .number-cell {
            text-align: center;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            font-weight: 700;
            font-size: 1.125rem;
            line-height: 1.75rem;
            border: 1px solid #d1d5db;
            transition-property: all;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(1);
            opacity: 1;
        }
        .number-cell:hover {
            transform: scale(1.05);
        }
        .animate-fadeIn {
            animation: fadeIn 0.4s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes pulseRed {
            0% { box-shadow: 0 0 5px #f87171; }
            50% { box-shadow: 0 0 15px #ef4444; }
            100% { box-shadow: 0 0 5px #f87171; }
        }
        .animate-pulse-red {
            animation: pulseRed 1.5s infinite;
        }
    </style>
</head>
<body>
    <header class="bg-gray-800 text-white p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold">Number Tables & Families</h1>
        <nav>
            <a href="index.html" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-300">
                Back to Charts
            </a>
        </nav>
    </header>
    <div class="container mx-auto p-4 md:p-8 space-y-16">
        <section class="p-6 bg-white rounded-xl shadow-lg animate-fadeIn">
            <h1 class="text-3xl md:text-4xl font-bold text-center mb-4 text-blue-700">Number Grid (00â€“99)</h1>
            <p class="text-center text-gray-600 mb-6">(Number and its Open Condition)</p>
            <div class="grid grid-cols-5 sm:grid-cols-10 gap-3" id="numberGrid"></div>
        </section>
        <section class="p-6 bg-white rounded-xl shadow-lg animate-fadeIn">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-green-700">Digit Sum Total Table</h2>
            <p class="text-center text-gray-600 mb-6">(Numbers grouped by their Digit Sum Total)</p>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2 mb-4 text-sm font-semibold text-center text-gray-600">
                <div>0 Total</div><div>1 Total</div><div>2 Total</div><div>3 Total</div><div>4 Total</div>
                <div>5 Total</div><div>6 Total</div><div>7 Total</div><div>8 Total</div><div>9 Total</div>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2" id="totalColumns"></div>
        </section>
        <section class="p-6 bg-white rounded-xl shadow-lg animate-fadeIn">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-purple-700">Open Condition Table</h2>
            <p class="text-center text-gray-600 mb-6">(Numbers grouped by their Open Condition)</p>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2 mb-4 text-sm font-semibold text-center text-gray-600">
                <div>0 Open</div><div>1 Open</div><div>2 Open</div><div>3 Open</div><div>4 Open</div>
                <div>5 Open</div><div>6 Open</div><div>7 Open</div><div>8 Open</div><div>9 Open</div>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2" id="openConditionColumns"></div>
        </section>
        <section class="p-6 bg-white rounded-xl shadow-lg animate-fadeIn">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-red-700">Close Condition Table</h2>
            <p class="text-center text-gray-600 mb-6">(Numbers grouped by their Close Condition)</p>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2 mb-4 text-sm font-semibold text-center text-gray-600">
                <div>0 Close</div><div>1 Close</div><div>2 Close</div><div>3 Close</div><div>4 Close</div>
                <div>5 Close</div><div>6 Close</div><div>7 Close</div><div>8 Close</div><div>9 Close</div>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2" id="closeConditionColumns"></div>
        </section>
        <section class="p-6 bg-white rounded-xl shadow-lg animate-fadeIn">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-orange-700">Number Families</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="familyContainer"></div>
        </section>
    </div>
    <script>
        const redPairs = {0:5, 1:6, 2:7, 3:8, 4:9, 5:0, 6:1, 7:2, 8:3, 9:4};
        const numberGrid = document.getElementById("numberGrid");
        const totalColumns = document.getElementById("totalColumns");
        const openConditionColumns = document.getElementById("openConditionColumns");
        const closeConditionColumns = document.getElementById("closeConditionColumns");
        const familyContainer = document.getElementById("familyContainer");

        const familyCache = {};
        const calculateTotal = (d1, d2) => (d1 + d2) % 10;
        const calculateOpenCond = (d1, d2) => ((d1 + d2) + (d1 + d1)) % 10;
        const calculateCloseCond = (d1, d2) => ((d1 + d2) % 10 + (d2 + d2) % 10) % 10;
        const isRed = (d1, d2) => d1 === d2 || redPairs[d1] === d2;

        const getNumberFamily = (numStr) => {
            if (familyCache[numStr]) return familyCache[numStr];
            const d1 = parseInt(numStr[0]);
            const d2 = parseInt(numStr[1]);
            const familySet = new Set();
            familySet.add(String(d1) + String(d2));
            familySet.add(String(redPairs[d1]) + String(d2));
            familySet.add(String(d1) + String(redPairs[d2]));
            familySet.add(String(redPairs[d1]) + String(redPairs[d2]));
            familySet.add(String(d2) + String(d1));
            familySet.add(String(redPairs[d2]) + String(d1));
            familySet.add(String(d2) + String(redPairs[d1]));
            familySet.add(String(redPairs[d2]) + String(redPairs[d1]));
            const sortedFamily = Array.from(familySet).filter(s => s.length === 2).sort();
            familyCache[numStr] = sortedFamily;
            return sortedFamily;
        };

        const totalCols = Array.from({ length: 10 }, () => {
            const col = document.createElement("div");
            col.className = "flex flex-col gap-2";
            totalColumns.appendChild(col);
            return col;
        });
        const openCols = Array.from({ length: 10 }, () => {
            const col = document.createElement("div");
            col.className = "flex flex-col gap-2";
            openConditionColumns.appendChild(col);
            return col;
        });
        const closeCols = Array.from({ length: 10 }, () => {
            const col = document.createElement("div");
            col.className = "flex flex-col gap-2";
            closeConditionColumns.appendChild(col);
            return col;
        });
        const generatedFamilies = new Set();

        for (let i = 0; i < 100; i++) {
            const numStr = i.toString().padStart(2, '0');
            const d1 = parseInt(numStr[0]);
            const d2 = parseInt(numStr[1]);
            const total = calculateTotal(d1, d2);
            const openCond = calculateOpenCond(d1, d2);
            const closeCond = calculateCloseCond(d1, d2);
            const isRedNumber = isRed(d1, d2);
            const baseClass = `number-cell animate-fadeIn`;
            const redClass = 'bg-red-500 text-white animate-pulse-red';
            const normalClass = 'bg-white hover:bg-blue-100';

            const numGridText = `${numStr} (${openCond})`;
            const numCell = document.createElement("div");
            numCell.textContent = numGridText;
            numCell.className = baseClass + ' ' + (isRedNumber ? redClass : normalClass);
            numberGrid.appendChild(numCell);

            const totalText = `${numStr} (${total})`;
            const totalCell = document.createElement("div");
            totalCell.textContent = totalText;
            totalCell.className = baseClass + ' ' + (isRedNumber ? redClass : normalClass);
            totalCols[total].appendChild(totalCell);
            
            const openCondText = `${numStr} (${openCond})`;
            const openCondCell = document.createElement("div");
            openCondCell.textContent = openCondText;
            openCondCell.className = baseClass + ' ' + (isRedNumber ? redClass : 'bg-white hover:bg-purple-100');
            openCols[openCond].appendChild(openCondCell);

            const closeCondText = `${numStr} (${closeCond})`;
            const closeCondCell = document.createElement("div");
            closeCondCell.textContent = closeCondText;
            closeCondCell.className = baseClass + ' ' + (isRedNumber ? redClass : 'bg-white hover:bg-red-100');
            closeCols[closeCond].appendChild(closeCondCell);

            const family = getNumberFamily(numStr);
            const familyId = family.sort().join('-');
            
            if (!generatedFamilies.has(familyId)) {
                generatedFamilies.add(familyId);
                const familyCard = document.createElement("div");
                familyCard.className = "p-4 family-card";

                const header = document.createElement("div");
                header.className = `p-4 text-center rounded-lg mb-4 text-white font-bold text-xl`;
                header.textContent = `${family[0]} Family`;
                
                const familyColors = {
                    '00': 'bg-gray-500', '11': 'bg-blue-500', '22': 'bg-green-500', '33': 'bg-indigo-500',
                    '44': 'bg-orange-500', '55': 'bg-yellow-500', '66': 'bg-teal-500',
                    '77': 'bg-cyan-500', '88': 'bg-pink-500', '99': 'bg-lime-500'
                };
                const familyBaseNumber = family.find(f => familyColors[f]);
                header.classList.add(familyColors[familyBaseNumber] || 'bg-gray-500');
                familyCard.appendChild(header);

                const familyGrid = document.createElement("div");
                familyGrid.className = "grid grid-cols-2 gap-4";
                family.forEach(memberNumStr => {
                    const memberD1 = parseInt(memberNumStr[0]);
                    const memberD2 = parseInt(memberNumStr[1]);
                    const memberTotal = calculateTotal(memberD1, memberD2);
                    const memberOpen = calculateOpenCond(memberD1, memberD2);
                    const memberClose = calculateCloseCond(memberD1, memberD2);
                    const memberCell = document.createElement("div");
                    memberCell.className = `p-4 rounded-xl shadow-md text-center bg-white`;
                    memberCell.innerHTML = `
                        <p class="font-bold text-xl">${memberNumStr}</p>
                        <p class="text-xs text-gray-500">Total: ${memberTotal}</p>
                        <p class="text-xs text-gray-500">Open: ${memberOpen}</p>
                        <p class="text-xs text-gray-500">Close: ${memberClose}</p>
                    `;
                    familyGrid.appendChild(memberCell);
                });
                familyCard.appendChild(familyGrid);
                familyContainer.appendChild(familyCard);
            }
        }
    </script>
</body>

</html>